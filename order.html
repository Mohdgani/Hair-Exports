<head>
  <!-- Add AOS Animation Library -->
  <title>Order</title>
  <meta
    name="description"
    content="Premium temple hair bundles, ethically sourced and globally shipped."
  />

  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
  <link rel="stylesheet" href="main.css" />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
  />
</head>

<body>
  <header data-aos="fade-down">
    Skanda HUMAN HAIR EXPORTS
    <h6>"Authentic Hair, Global Reach"</h6>
  </header>
  <nav data-aos="fade-up">
    <div class="nav-links">
      <a href="index.html">Home</a>
      <a href="#">Products</a>
      <a href="#">Testimonials</a>
      <a href="about.html">About</a>
    </div>
    <div class="nav-socials">
      <a href="" class="contact-icon email" title="Email">
        <i class="fas fa-envelope"></i>
      </a>
      <a href="" class="contact-icon whatsapp" title="WhatsApp">
        <i class="fab fa-whatsapp"></i>
      </a>
      <a href="" class="contact-icon instagram" title="Instagram">
        <i class="fab fa-instagram"></i>
      </a>
    </div>
  </nav>
  <div id="alertOverlay">
    <div class="alert-backdrop"></div>
    <div id="customAlert" class="alert-box">
      <p>hello</p>
      <button onclick="closeAlert()">OK</button>
    </div>
  </div>
  <section class="section">
    <div class="order-box" data-aos="fade">
      <div class="order-row">
        <img
          id="previewImage"
          src="hair1.webp"
          alt="Premium Hair Sample"
          class="orderside-image"
          loading="lazy"
        />
        <div class="box">
          <div class="dropdown-group">
            <label for="length">Length</label>
            <select id="length">
              <option value="inch1.2">1.2 Inch</option>
              <option value="inch1.4">1.4 Inch</option>
              <option value="inch1.6">1.6 Inch</option>
            </select>
          </div>
          <div class="dropdown-group">
            <label for="type">Type</label>
            <select id="hairType">
              <option value="" selected disabled></option>
              <option value="straight">Straight</option>
              <option value="wavy">Wavy</option>
              <option value="curly">Curly</option>
            </select>
          </div>
          <div class="dropdown-group">
            <label for="weight">Weight</label>
            <select id="weight">
              <option value="2KG">2KG</option>
              <option value="5KG">5KG</option>
              <option value="10KG">10KG</option>
            </select>
          </div>
          <div class="count-container">
            <button class="count-btn" onclick="decrement()">−</button>
            <input type="number" id="counter-value" value="1" min="1" />
            <button class="count-btn" onclick="increment()">+</button>
          </div>
          <div class="price"></div>
        </div>
      </div>
      <div class="order-footer">
        <button onclick="placeOrder()">Your Order Summary</button>
        <button id="add">Add To Cart</button>
      </div>
    </div>
  </section>

  <footer class="footer">
    <p>© 2025</p>
  </footer>
  <script>
    const hairTypeDropdown = document.getElementById("hairType");
    const previewImage = document.getElementById("previewImage");

    hairTypeDropdown.addEventListener("change", function () {
      const selectedType = this.value;
      previewImage.src = `img${selectedType}.webp`;
      previewImage.alt = `${
        selectedType.charAt(0).toUpperCase() + selectedType.slice(1)
      } Hair Sample`;
      previewImage.style.opacity = 1;
    });

    // price calculation
    const priceDiv = document.querySelector(".price");
    const lengthSelect = document.getElementById("length");
    const typeSelect = document.getElementById("hairType");
    const weightSelect = document.getElementById("weight");
    const quantityInput = document.getElementById("counter-value");

    // Set initial price to ₹0
    priceDiv.textContent = "Price: ₹0";

    // Centralized price mapping
    let priceMap = {};

    fetch("prices.json")
      .then((response) => response.json())
      .then((data) => {
        priceMap = data;
        calculatePrice(); // call once to set initial price
      })
      .catch((error) => console.error("Failed to load prices:", error));
    function calculatePrice() {
      const length = lengthSelect.value;
      const type = typeSelect.value;
      const weight = weightSelect.value;
      const quantity = parseInt(quantityInput.value) || 1;

      const key = `${length}_${weight}_${type}`;
      const pricePerUnit = priceMap[key] || 0;
      const totalPrice = pricePerUnit * quantity;

      priceDiv.textContent = `Price: ₹${totalPrice}`;
    }

    lengthSelect.addEventListener("change", calculatePrice);
    typeSelect.addEventListener("change", calculatePrice);
    weightSelect.addEventListener("change", calculatePrice);
    quantityInput.addEventListener("input", calculatePrice);
  </script>
  <script src="main.js" defer></script>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    AOS.init({ duration: 1000 });
  </script>
</body>
